<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Gemini ChatBot</title>
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="./css/default.min.css">
		
		<!-- SEO Optimization -->
		<meta name="description" content="Explore Gemini API JavaScript Sample for AI chatbot interactions.">
		<meta name="keywords" content="Gemini, API, JavaScript, Sample, AI, Chatbot">
		<meta property="og:title" content="Gemini API JavaScript Sample">
		<meta property="og:description" content="Explore Gemini API JavaScript Sample for AI chatbot interactions.">
		<meta property="og:url" content="https://yapweijun1996.github.io/Gemini-API-JavaScript-Sample/">
		<meta property="og:image" content="https://yapweijun1996.github.io/Gemini-API-JavaScript-Sample/og_img.jpg">
		<meta property="og:image:secure_url" content="https://yapweijun1996.github.io/Gemini-API-JavaScript-Sample/og_img.jpg">
		<meta property="og:image:type" content="image/jpeg">
		<meta property="og:type" content="website">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="Gemini ChatBot">
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:title" content="Gemini API JavaScript Sample">
		<meta name="twitter:description" content="Explore Gemini API JavaScript Sample for AI chatbot interactions.">
		<meta name="twitter:image" content="https://yapweijun1996.github.io/Gemini-API-JavaScript-Sample/og_img.jpg">
		<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' blob: data: https://yapweijun1996.com https://*.github.io; connect-src 'self' https://api.github.com https://api.openai.com https://generativelanguage.googleapis.com; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; object-src 'none'; frame-ancestors 'self'">
		<script src="./js/script_top.js"></script>
		
		<link rel="manifest" href="manifest.json">
		<meta name="theme-color" content="#3b82f6">
	</head>
	<body>
		<div class="chat-container">
			<div class="chat-header">
				<div class="chat-title">
					<h1>Gemini ChatBot</h1>
				</div>
				<div class="header-actions">
					<button id="clearChatBtn" class="clear-chat-btn" aria-label="Clear Chat">🗑️</button>
					<button id="settingsBtn" class="settings-btn" aria-label="Settings">⚙️</button>
				</div>
			</div>
			<div class="chat-body">
				<!-- Chat messages -->
				<div id="chatMessages" class="chat-messages" role="log" aria-live="polite" aria-label="Chat conversation">
					<div class="message system">
						<div class="message-content">👋 Welcome to Gemini ChatBot! Send a message or upload an image to start your AI conversation.</div>
					</div>
				</div>
				<!-- Chat controls -->
				<div class="chat-controls">
					<div class="chat-input">
						<label for="userInput">
							<div class="input-group">
								<textarea
								id="userInput"
								placeholder="Type your message..."
								aria-label="Chat message input"
								rows="1"></textarea>
								<div class="file-input-wrapper">
									<input type="file" id="imageInput" accept="image/*" aria-label="Upload image">
									<label for="imageInput" class="file-input-label" title="Upload image">📎</label>
								</div>
								<button id="sendBtn" aria-label="Send message" type="button">
									<span>Send</span>
								</button>
							</div>
						</label>
					</div>
				</div>
			</div>
			<!-- Settings Modal -->
			<div id="settingsModal" class="modal" hidden>
				<div class="modal-content">
					<h2>Settings</h2>
					<div class="model-selector">
						<label for="modelSelect">AI Model</label>
						<select id="modelSelect" aria-label="Select AI model">
							<option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
							<option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
							<option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
							<option value="gemma-3-27b-it">Gemma 3 27B IT</option>
						</select>
					</div>
					<div class="theme-selector">
						<label for="themeSelect">Theme</label>
						<select id="themeSelect" aria-label="Select theme">
							<option value="system">System</option>
							<option value="light">Light</option>
							<option value="dark">Dark</option>
						</select>
					</div>
					<div class="modal-actions">
						<button id="saveSettingsBtn">Save</button>
						<button id="cancelSettingsBtn">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Max Tokens Modal -->
		<div id="tokenModal" class="modal" hidden>
			<div class="modal-content">
				<h2>Set Max Tokens</h2>
				<label for="tokenInput">Max Tokens:</label>
				<input type="number" id="tokenInput" min="1" />
				<div class="modal-actions">
					<button id="saveTokenBtn">Save</button>
					<button id="cancelTokenBtn">Cancel</button>
				</div>
			</div>
		</div>
		<script src="./js/highlight.min.js"></script>
		<script>
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', () => {
					navigator.serviceWorker.register('/service-worker.js')
					.then(registration => console.log('ServiceWorker registration successful:', registration))
					.catch(error => console.error('ServiceWorker registration failed:', error));
				});
			}
		</script>
		<script src="./js/marked.min.js"></script>
		<script src="./js/script_bottom.js"></script>
	</body>
</html>
